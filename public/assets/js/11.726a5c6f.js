(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{187:function(e,a,c){"use strict";c.r(a);var t=c(0),d=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,c=e._self._c||a;return c("div",{staticClass:"content"},[c("h1",{attrs:{id:"smart-contract-channels"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#smart-contract-channels","aria-hidden":"true"}},[e._v("#")]),e._v(" Smart Contract: Channels")]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channels")]),e._v(" CryptoConditions smart contract facilitates instant payments in a trustless environment.")]),e._v(" "),c("p",[e._v("When a payment is executed properly with "),c("code",[e._v("channels")]),e._v(", as soon as it enters the mempool the odds that the payment can be withdrawn or attacked decrease to almost zero. Many developers and users may find it advantageous to use "),c("code",[e._v("channels")]),e._v(" to create a secure instant-payment network that can be used within their business environment.")]),e._v(" "),c("p",[e._v("The flow of a "),c("code",[e._v("channels")]),e._v(" contract is as follows:")]),e._v(" "),c("ul",[c("li",[e._v("Anyone can create a channel using "),c("a",{attrs:{href:"#channelsopen"}},[c("code",[e._v("channelsopen")])]),e._v(" "),c("ul",[c("li",[e._v("When creating the channel, the user indicates the number and size of their potential payment(s), and what their destination is")])])]),e._v(" "),c("li",[e._v("Once the channel is notarized, at any time in the future the user can execute "),c("a",{attrs:{href:"#channelspayment"}},[c("code",[e._v("channelspayment")])]),e._v(" to release a specific amount of their available payments\n"),c("ul",[c("li",[e._v("As soon as the "),c("code",[e._v("channelspayment")]),e._v(" result enters the mempool, the odds of withdrawing the "),c("code",[e._v("txid")]),e._v(" from processing decrease to almost zero")])])]),e._v(" "),c("li",[e._v("The creator of a channel may close the channel at any time using "),c("a",{attrs:{href:"#channelsclose"}},[c("code",[e._v("channelsclose")])]),e._v(" "),c("ul",[c("li",[e._v("This shows the receiver that this payment stream is permanently ended")])])]),e._v(" "),c("li",[e._v("Once the channel's closure is notarized, the creator may withdraw remaining funds using "),c("a",{attrs:{href:"#channelsrefund"}},[c("code",[e._v("channelsrefund")])])]),e._v(" "),c("li",[e._v("The "),c("a",{attrs:{href:"#channelsinfo"}},[c("code",[e._v("channelsinfo")])]),e._v(" method reveals public information for any or all available channels on an asset chain")])]),e._v(" "),c("h2",{attrs:{id:"channelsclose"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#channelsclose","aria-hidden":"true"}},[e._v("#")]),e._v(" channelsclose")]),e._v(" "),c("p",[c("strong",[e._v("channelsclose open_txid")])]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channelsclose")]),e._v(" method marks a specific channel as closed, meaning that no additional payments will be added to the channel.")]),e._v(" "),c("p",[e._v("The owner of the "),c("code",[e._v("channel")]),e._v(" may still execute "),c("a",{attrs:{href:"#channelspayment"}},[c("code",[e._v("channelspayment")])]),e._v(" for any remaining payments in the channel, until all payments are used or withdrawn.")]),e._v(" "),c("p",[e._v("The method returns a hex value which must then be broadcast using the "),c("a",{attrs:{href:"#sendrawtransaction"}},[c("code",[e._v("sendrawtransaction")])]),e._v(" method.")]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("sendrawtransaction")]),e._v(" method then returns a "),c("code",[e._v("txid")]),e._v(" which is used in the "),c("a",{attrs:{href:"#channelsrefund"}},[c("code",[e._v("channelsrefund")])]),e._v(" method to reclaim funds.")]),e._v(" "),c("h3",{attrs:{id:"arguments"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#arguments","aria-hidden":"true"}},[e._v("#")]),e._v(" Arguments:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("open_txid")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("the unique identifying txid that is created when a channel is first opened")])])])]),e._v(" "),c("h3",{attrs:{id:"response"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#response","aria-hidden":"true"}},[e._v("#")]),e._v(" Response:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("result:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("whether the command succeeded")])]),e._v(" "),c("tr",[c("td",[e._v("hex:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("a raw transaction in hex-encoded format; you must broadcast this transaction to complete the command")])])])]),e._v(" "),c("h3",{attrs:{id:"examples"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples:")]),e._v(" "),c("blockquote",[c("p",[e._v("Step 1: Close a channel")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD channelsclose 2f95b0f4e3dbe7f5ebc0f9479800c9ff3f44e76f5378313c9406ab5a92ff4631\n")])])]),c("blockquote",[c("p",[e._v("Output from Step 1")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('"channelsclose output:\n{\n  "result": "success",\n  "hex": "010000000337bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a00360400000049483045022100dacf03fc670dfcedff732374e5dfde63668c8f1bb036076a185d620f84cdbefe02206d5c7af679e42bc35d02d97a1809ea9eba48392409be0ddf6172a76469cb9b3601ffffffff37bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a003600000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272814024c8da3b4a5e9595a360e4b3b44e86aa6627df774fd554ee7e55536dae7bd7af452410e6a827b1f14f63643d6cbf48a1336dde0c26d2e2e249dd9cc4aa9f044da129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffff37bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a0036010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba012728140decb986f860f6b67fa458e89c50b90ebef048a72a4bfb0bb0cc8c39a5f0fc8763fdc49780154d56a89be1a7b54d17b5a9c1489c6c2b0feb11c921f75d5e8f1b7a100af038001eba10001ffffffff050087930300000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cca0ad96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb433146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000008096980000000000000000000000000000000000000000000000000000000000000000000000000000000000"\n}\n')])])]),c("blockquote",[c("p",[e._v("Step 2: Broadcast the raw transaction using sendrawtransaction")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD sendrawtransaction 010000000337bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a00360400000049483045022100dacf03fc670dfcedff732374e5dfde63668c8f1bb036076a185d620f84cdbefe02206d5c7af679e42bc35d02d97a1809ea9eba48392409be0ddf6172a76469cb9b3601ffffffff37bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a003600000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272814024c8da3b4a5e9595a360e4b3b44e86aa6627df774fd554ee7e55536dae7bd7af452410e6a827b1f14f63643d6cbf48a1336dde0c26d2e2e249dd9cc4aa9f044da129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffff37bc987132bc04b527260b1243d2c6ec3bcf2ce79dff33542ed665bf428a0036010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba012728140decb986f860f6b67fa458e89c50b90ebef048a72a4bfb0bb0cc8c39a5f0fc8763fdc49780154d56a89be1a7b54d17b5a9c1489c6c2b0feb11c921f75d5e8f1b7a100af038001eba10001ffffffff050087930300000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cca0ad96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb433146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000008096980000000000000000000000000000000000000000000000000000000000000000000000000000000000\n")])])]),c("blockquote",[c("p",[e._v("Response from Step 2: (Save this txid to reclaim your funds using channelsrefund)")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("2079c46cd9f3970f9fd73d8022bf6f30aaf5031bf877d2c541c4c0df1dea1be5\n")])])]),c("h2",{attrs:{id:"channelsinfo"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#channelsinfo","aria-hidden":"true"}},[e._v("#")]),e._v(" channelsinfo")]),e._v(" "),c("p",[c("strong",[e._v("channelsinfo (open_tx_id)")])]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channelsinfo")]),e._v(" method fetches info about channels that are relevant to the user, either as sender or receiver.")]),e._v(" "),c("p",[e._v("If no "),c("code",[e._v("open_tx_id")]),e._v(" argument is included, the method returns a list of all channels available to this user.")]),e._v(" "),c("h3",{attrs:{id:"arguments-2"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#arguments-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Arguments:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("open_txid")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("the unique identifying txid that is created when a channel is first opened")])])])]),e._v(" "),c("h3",{attrs:{id:"response-2"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#response-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Response:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("{")]),e._v(" "),c("td"),e._v(" "),c("td")]),e._v(" "),c("tr",[c("td",[e._v("result")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("whether the command executed successfully")])]),e._v(" "),c("tr",[c("td",[e._v("name")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("name of the channel")])]),e._v(" "),c("tr",[c("td",[e._v("Open:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("a channel and its relevant information: address of the destination pubkey, number of payments, denomination per payment, and the channel open_tx_id")])]),e._v(" "),c("tr",[c("td",[e._v("}")]),e._v(" "),c("td"),e._v(" "),c("td")])])]),e._v(" "),c("h3",{attrs:{id:"examples-2"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#examples-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples:")]),e._v(" "),c("blockquote",[c("p",[e._v("Command")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD channelsinfo\n")])])]),c("blockquote",[c("p",[e._v("Response:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('{\n  "result": "success",\n  "name": "Channel RKgkZ3RybqGHBXBhDoeM4cu7hBLD8UgHBW",\n  "Open": "20 payments of 30000 satoshi"\n}\n')])])]),c("blockquote",[c("p",[e._v("Command")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD channelsinfo\n")])])]),c("blockquote",[c("p",[e._v("Response:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('{\n  "result": "success",\n  "name": "Channel RKgkZ3RybqGHBXBhDoeM4cu7hBLD8UgHBW",\n  "Open": "20 payments of 30000 satoshi",\n  "Payment": "60000 satoshi to RBvjFvWJ43f8mcMCUE2MNamoRzc7KtDvn2, 18 payments left",\n  "Payment": "30000 satoshi to RBvjFvWJ43f8mcMCUE2MNamoRzc7KtDvn2, 17 payments left"\n}\n')])])]),c("h2",{attrs:{id:"channelsopen"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#channelsopen","aria-hidden":"true"}},[e._v("#")]),e._v(" channelsopen")]),e._v(" "),c("p",[c("strong",[e._v("channelsopen destination_pubkey total_number_of_payments payment_size")])]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channelsopen")]),e._v(" method opens a channel between two public keys (sender and receiver).")]),e._v(" "),c("p",[e._v("The method returns a hex value which must then be broadcast using the "),c("a",{attrs:{href:"#sendrawtransaction"}},[c("code",[e._v("sendrawtransaction")])]),e._v(" method.")]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("sendrawtransaction")]),e._v(" method then returns a "),c("code",[e._v("txid")]),e._v(" which is the unique identifying "),c("code",[e._v("channels_tx_id")]),e._v(".")]),e._v(" "),c("h3",{attrs:{id:"arguments-3"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#arguments-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Arguments:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("destination_pubkey")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("the public key of the intended recipient of the channel")])]),e._v(" "),c("tr",[c("td",[e._v("total_number_of_payments")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the total number of payments to allocate in the channel")])]),e._v(" "),c("tr",[c("td",[e._v("payment_size")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the amount per payment, given in satoshis")])])])]),e._v(" "),c("h3",{attrs:{id:"response-3"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#response-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Response:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("result:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("whether the command succeeded")])]),e._v(" "),c("tr",[c("td",[e._v("hex:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("a raw transaction in hex-encoded format; you must broadcast this transaction to complete the command")])])])]),e._v(" "),c("h3",{attrs:{id:"examples-3"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#examples-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples:")]),e._v(" "),c("blockquote",[c("p",[e._v("Step 1: Create the raw hex")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD channelsopen 027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4 10 10000000\n")])])]),c("blockquote",[c("p",[e._v("Response:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('{\n  "result": "success",\n  "hex": "01000000016ee478b8470aee10aa95878bf306f853406993f953703b47fd373eba9ee7659d030000004847304402201267b68487060b6d80a0e8529271cf203f1a018c2caa508e5bdf798cd2f9099802202553dca29335f4fa491d117f5a268027b738b65b6d0945f892896775d98ae95b01ffffffff0500e1f50500000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc20e697a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb4f0000000000000000000000000000000000000000000000000000000000000000210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a40a0000008096980000000000b0a3ff942c0de4972a3bbdc90f1a2851bc498f3c947cbf0d9524ccae118f515b00000000"\n}\n')])])]),c("blockquote",[c("p",[e._v("Step 2: Broadcast the hex using sendrawtransaction")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD sendrawtransaction 01000000016ee478b8470aee10aa95878bf306f853406993f953703b47fd373eba9ee7659d030000004847304402201267b68487060b6d80a0e8529271cf203f1a018c2caa508e5bdf798cd2f9099802202553dca29335f4fa491d117f5a268027b738b65b6d0945f892896775d98ae95b01ffffffff0500e1f50500000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc20e697a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb4f0000000000000000000000000000000000000000000000000000000000000000210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a40a0000008096980000000000b0a3ff942c0de4972a3bbdc90f1a2851bc498f3c947cbf0d9524ccae118f515b00000000\n")])])]),c("blockquote",[c("p",[e._v("Response from Step 2 (this is the unique identifying channel_tx_id):")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("2f95b0f4e3dbe7f5ebc0f9479800c9ff3f44e76f5378313c9406ab5a92ff4631\n")])])]),c("h2",{attrs:{id:"channelspayment"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#channelspayment","aria-hidden":"true"}},[e._v("#")]),e._v(" channelspayment")]),e._v(" "),c("p",[c("strong",[e._v("channelspayment open_tx_id payment_amount (secret)")])]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channelspayment")]),e._v(" method sends a payment in a channel to the receiver.")]),e._v(" "),c("p",[e._v("The method requires that the channel "),c("code",[e._v("open_tx_id")]),e._v(" has either one notarization or 60 confirmations.")]),e._v(" "),c("p",[e._v("The owner of a channel reveals the password of a unique payment "),c("code",[e._v("txid")]),e._v(" as a part of the payment. This password is intentionally visible to anyone watching the chain at the time of payment, although the password does not persist in the database.")]),e._v(" "),c("p",[e._v("If the receiver is monitoring the chain at the time of payment and saves the password, and there is a chain reorganization that nullifies the payment, the receiver now has the password to resend the payment. This option is available so long as the channel remains open and the payment has not been refunded.")]),e._v(" "),c("p",[e._v("The method returns a hex value which must then be broadcast using the "),c("a",{attrs:{href:"#sendrawtransaction"}},[c("code",[e._v("sendrawtransaction")])]),e._v(" method.")]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("sendrawtransaction")]),e._v(" method then returns a "),c("code",[e._v("txid")]),e._v(" which is the unique identifying "),c("code",[e._v("channels_tx_id")]),e._v(".")]),e._v(" "),c("h3",{attrs:{id:"arguments-4"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#arguments-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Arguments:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("destination_pubkey")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("the public key of the intended recipient of the channel")])]),e._v(" "),c("tr",[c("td",[e._v("total_number_of_payments")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the total number of payments to allocate in the channel")])]),e._v(" "),c("tr",[c("td",[e._v("payment_size")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the amount per payment, given in satoshis")])])])]),e._v(" "),c("h3",{attrs:{id:"response-4"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#response-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Response:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("result:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("whether the command succeeded")])]),e._v(" "),c("tr",[c("td",[e._v("hex:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("a raw transaction in hex-encoded format; you must broadcast this transaction to complete the command")])])])]),e._v(" "),c("h3",{attrs:{id:"examples-4"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#examples-4","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples:")]),e._v(" "),c("blockquote",[c("p",[e._v("Command:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD channelspayment 2f95b0f4e3dbe7f5ebc0f9479800c9ff3f44e76f5378313c9406ab5a92ff4631 10000000\n")])])]),c("blockquote",[c("p",[e._v("Response:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('{\n  "result": "success",\n  "hex": "010000000371f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed0400000049483045022100c512cbccd63871a3eee9069a90b5447a11912a7a6ccd0eeecdf40b92cd9aca2402200d7b36424e04bc77386ac3f1a030a27919d766485d5bb984234f257cc396527601ffffffff71f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed00000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281400245156c5e4923c9dfbba452f4638da8ef58dc385f7511dca21d4cf87bb3fa564864d8b1f8f81742795181988f50b60bd82db618e11b432351595295eafd1c18a129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffff71f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba012728140be52fb33d895d684c1bd0a7cb12a735814ef7c22b89a11464215a5f80cde369765fc636153d15a8f17e7faee749b5f87ec5f88530b619586f58cc6452794517fa100af038001eba10001ffffffff060087930300000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc80969800000000002321027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4acc0fb96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb503146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000000100000000000000f676963e7537d614651bc1a3d5508243ab74e32400e4175ebceb03226b956f1a00000000"\n}\n')])])]),c("blockquote",[c("p",[e._v("Step 2: Broadcast using sendrawtransaction")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD sendrawtransaction 010000000371f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed0400000049483045022100c512cbccd63871a3eee9069a90b5447a11912a7a6ccd0eeecdf40b92cd9aca2402200d7b36424e04bc77386ac3f1a030a27919d766485d5bb984234f257cc396527601ffffffff71f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed00000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281400245156c5e4923c9dfbba452f4638da8ef58dc385f7511dca21d4cf87bb3fa564864d8b1f8f81742795181988f50b60bd82db618e11b432351595295eafd1c18a129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffff71f8f5550a8cb53b7bdfb752687cd6aaaf1fedb4dd9414a08ee17fd3460047ed010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba012728140be52fb33d895d684c1bd0a7cb12a735814ef7c22b89a11464215a5f80cde369765fc636153d15a8f17e7faee749b5f87ec5f88530b619586f58cc6452794517fa100af038001eba10001ffffffff060087930300000000302ea22c80206dafed6d15c24a9a60f01d5972ee08aeb40ba7849d9af3608e97397364ee16a281031210008203000401cc1027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc80969800000000002321027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4acc0fb96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb503146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000000100000000000000f676963e7537d614651bc1a3d5508243ab74e32400e4175ebceb03226b956f1a00000000\n")])])]),c("blockquote",[c("p",[e._v("Response from Step 2:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("sendrawtransaction output:\n36008a42bf65d62e5433ff9de72ccf3becc6d243120b2627b504bc327198bc37\n")])])]),c("blockquote",[c("p",[e._v("Check that the transaction is confirmed:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD getrawmempool\n")])])]),c("h2",{attrs:{id:"channelsrefund"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#channelsrefund","aria-hidden":"true"}},[e._v("#")]),e._v(" channelsrefund")]),e._v(" "),c("p",[c("strong",[e._v("channelsrefund open_tx_id close_tx_id")])]),e._v(" "),c("p",[e._v("The "),c("code",[e._v("channelsrefund")]),e._v(" method withdraws funds directly to the CC address of the channel creator.")]),e._v(" "),c("p",[e._v("The method can only be executed after the channel "),c("code",[e._v("close_tx_id")]),e._v(" has either one notarization or 60 confirmations.")]),e._v(" "),c("p",[e._v("The method returns a hex value which must then be broadcast using the "),c("a",{attrs:{href:"#sendrawtransaction"}},[c("code",[e._v("sendrawtransaction")])]),e._v(" method.")]),e._v(" "),c("h3",{attrs:{id:"arguments-5"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#arguments-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Arguments:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("destination_pubkey")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("the public key of the intended recipient of the channel")])]),e._v(" "),c("tr",[c("td",[e._v("total_number_of_payments")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the total number of payments to allocate in the channel")])]),e._v(" "),c("tr",[c("td",[e._v("payment_size")]),e._v(" "),c("td",[e._v("(number)")]),e._v(" "),c("td",[e._v("the amount per payment, given in satoshis")])])])]),e._v(" "),c("h3",{attrs:{id:"response-5"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#response-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Response:")]),e._v(" "),c("table",[c("thead",[c("tr",[c("th",[e._v("Structure")]),e._v(" "),c("th",[e._v("Type")]),e._v(" "),c("th",[e._v("Description")])])]),e._v(" "),c("tbody",[c("tr",[c("td",[e._v("result:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("whether the command succeeded")])]),e._v(" "),c("tr",[c("td",[e._v("hex:")]),e._v(" "),c("td",[e._v("(string)")]),e._v(" "),c("td",[e._v("a raw transaction in hex-encoded format; you must broadcast this transaction to complete the command")])])])]),e._v(" "),c("h3",{attrs:{id:"examples-5"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#examples-5","aria-hidden":"true"}},[e._v("#")]),e._v(" Examples:")]),e._v(" "),c("blockquote",[c("p",[e._v("Step 1: Command")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('"./komodo-cli -ac_name=HELLOWORLD channelsrefund 2f95b0f4e3dbe7f5ebc0f9479800c9ff3f44e76f5378313c9406ab5a92ff4631 2079c46cd9f3970f9fd73d8022bf6f30aaf5031bf877d2c541c4c0df1dea1be5\n')])])]),c("blockquote",[c("p",[e._v("Response from Step 1:")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v('{\n  "result": "success",\n  "hex": "0100000003e51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc479200300000049483045022100bbed947e3c33b21b8519a7d78dc08cb70d3fe3e6c788119db95a459448caa64c02200a1c73431d118a7fad4f58b760b025f399747e127a46da5c421add2e599b897f01ffffffffe51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc4792000000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281403fe5789a3f0e25f46a000f381fc2e7f7b759855184532a6e1e0c5e84d1dc284b4d37422735aa93175ea74d6829ac3b68a7c8c928c22b870ab4b9507bc872dbd6a129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffffe51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc47920010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281400b4d6aaeb127417839b76dc78d78379147cfff760f03824e5565aae1c371bbd34559d951cdd2e8622bd5f5aa5528d2a20ee95174c3fea09ef48824ecd647c0b2a100af038001eba10001ffffffff051027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc008793030000000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac805f96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb523146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000008096980000000000e51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc4792000000000"\n}\n')])])]),c("blockquote",[c("p",[e._v("Step 2: Broadcast the hex using sendrawtransaction")])]),e._v(" "),c("div",{staticClass:"language- extra-class"},[c("pre",{pre:!0,attrs:{class:"language-text"}},[c("code",[e._v("./komodo-cli -ac_name=HELLOWORLD sendrawtransaction 0100000003e51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc479200300000049483045022100bbed947e3c33b21b8519a7d78dc08cb70d3fe3e6c788119db95a459448caa64c02200a1c73431d118a7fad4f58b760b025f399747e127a46da5c421add2e599b897f01ffffffffe51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc4792000000000a74ca5a281a1a0819ca28194a067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281403fe5789a3f0e25f46a000f381fc2e7f7b759855184532a6e1e0c5e84d1dc284b4d37422735aa93175ea74d6829ac3b68a7c8c928c22b870ab4b9507bc872dbd6a129a5278020e73e4b0745bdf31657ac09e3cf99fd65cb262d8498f86c977ece01b551925f028103020000af038001eba10001ffffffffe51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc47920010000007b4c79a276a072a26ba067a56580210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127281400b4d6aaeb127417839b76dc78d78379147cfff760f03824e5565aae1c371bbd34559d951cdd2e8622bd5f5aa5528d2a20ee95174c3fea09ef48824ecd647c0b2a100af038001eba10001ffffffff051027000000000000302ea22c8020c9ada2adfc6c6dec0bd9dd29f4e48c86f84c016abc3552b8815ca3c4a44c561b8103120c008203000401cc1027000000000000302ea22c802019be575785c322e9c7d2ae4b5f3df78c9a38ff7357e9e689f26de8e224cb186c8103120c008203000401cc008793030000000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac805f96a60100000023210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba01272ac0000000000000000956a4c92eb523146ff925aab06943c3178536fe7443fffc9009847f9c0ebf5e7dbe3f4b0952f210324f94e76159d69a5163b91588c3a04dac2c80e0011f713e3bfc5a8b67ba0127221027166e21e9579307a1ae4f8c223516e70aae3cbfab4bd6ac7cebfa625dcc0a2a4060000008096980000000000e51bea1ddfc0c441c5d277f81b03f5aa306fbf22803dd79f0f97f3d96cc4792000000000\n")])])])])}],!1,null,null,null);d.options.__file="_110-cc-channels.md";a.default=d.exports}}]);